\chapter{Introduktion til Taylorrækker}
\label{ch:tr}
En Taylorrække er en type potensrække, som kan bruges til at approksimere funktioner.
\begin{defn}
    En Taylorrække $T_f(x)$ for den kontinuere funktion $f(x)$ omkring værdien $a$ er givet ved den uendelige sum:
    \[
        T_f(x) = \sum^{\infty}_{n=0} \frac{f^{(n)}(a)}{n!} (x-a)^{n}
        = f(a) + \frac{f'(a)}{1!}(x-a)^{1} + \frac{f''(a)}{2!}(x-a)^{2} + \ldots
    \]
    Hvis $a = 0$ kaldes Taylorrækken i stedet for en Maclaurinrække.
\end{defn}
\label{def:taylorrække}
Idéen med Taylorrækker er at de afledte for rækken og for funktionen er den samme i punktet $a$, 
og at dette vil skabe en god approksimation omkring punktet $a$. 
\begin{thm} % TODO: Ret bevis og sætning
    Taylorrækkens $n$'te afledte har samme værdi som funktionens $n$'te afledte i punktet $a$, 
    det vil sige: $T_f^{(n)}(a) = f^{(n)} (a)$
\end{thm}
\begin{proof}
    lad Taylorrækken $T_f(x)$ være givet for funktionen $f(x)$: 
    \[
        T_f(x) = \sum^{\infty}_{n=0} \frac{f^{(n)}(a)}{n!} (x-a)^{n}
        = f(a) + \frac{f'(a)}{1!}(x-a)^{1} + \frac{f''(a)}{2!}(x-a)^{2} + \ldots
    \]
    Når rækken differenceres $n$ gange, forsvinder ledende op til $n$, da 
    \[
        \frac{d}{dx} \frac{f^{(n - 1)}(a)}{(n-1)!} (x-a)^{(n-1)} = \frac{f^{(n - 1)}(a)}{(n-2)!} (x-a)^{(n-2)} 
    \]
    hvis der differenceres $n - 1$ gange endes der altså med: 
    \[
        \frac{f^{(n - 1)}(a)}{(0)!} (x-a)^{0} = f^{(n - 1)}(a)
    \]
    Der differenceres en sidste gang $\frac{d}{dx} f^{(n - 1)}(a) = 0$ ledende, før led nummer $n$ forsvinder altså.
    Derved opnåes følgende:
    \[
        T_f^{n}(x) = f^{(n)}(a) + \frac{f^{(n + 1)}(a)}{(n+1)!}(x-a)^{(n+1)} + \frac{f^{n + 2}(a)}{(n+2)!}(x-a)^{(n+2)} + \ldots
    \]
    Herefter indsættes $x = a$:
    \[
        T_f^{n}(a) = f^{(n)}(a) + \frac{f^{(n + 1)}(a)}{(n+1)!}(a-a)^{(n+1)} + \frac{f^{n + 2}(a)}{(n+2)!}(a-a)^{(n+2)} + \ldots
        = f^{(n)}(a)
    \]
    Derved må $T_f^{(n)}(a) = f^{(n)}(a)$
\end{proof}
Selvom en taylorrække normalt approksimere en funktion relativt præcist, kan det ske at
approksimationen kun er god indenfor et interval af $D(f)$. Dette beskrives bl.a. ved hjælp af rækkens
radius for konvergens:
\begin{defn} % Definitionen på radius for konvergens
    Med en Taylorrækkes radius for konvergens $R$ menes, der for hvilket del af $D(f)$ gælder:
    \[
        \lim_{n \rightarrow \infty} T_f(x) = f(x)
    \]
    området opskrives ofte ved $|x-a| < R$ eller $a - R < x < a + R$.
\end{defn}
Ved hjælp af $R$ kan taylorrækkens konvergens klassificeres indenfor 3 forskellige klasser.
\begin{enumerate} % klassification af rækkens radius for konvergens.
    \item $R = 0$ i så fald gælder $\lim_{n \rightarrow \infty} T_f(x) = f(x)$ kun i punktet $x = a$,
    hvilket vil sige at taylorrækken slet ikke konvergere ud over punktet $x = a$
    \item $R = \infty$ i så fald gælder $\lim_{n \rightarrow \infty} T_f(x) = f(x)$ for alle $x \in \mathbb{R}$,
    hvilket vil sige at taylorrækken $T_f$ konvergere imod funktionen $f(x)$ for alle værdier.
    \item $R = c$ hvor $c \in \mathbb{R}\setminus\{0\}$ i så fald konvergere taylorrækken kun i området $a - R < X < a + R$.
\end{enumerate}
For at finde konvergens radiusen for en taylorrække kan koeficient kriteriet benyttes, ligesom det kan ved andre potens rækker.
\begin{defn} % Definitation af koeficient kriteriet
    For en potens række er radiusen for konvergens givet ved:
    \[
        \frac{1}{R} = \lim_{n \rightarrow \infty} \left\lvert \frac{c_{n + 1}}{c_n} \right\lvert
    \]
    Hvor $c_n$ for taylorrækker er givet ved $c_n = \dfrac{f^n(a)}{n!}$.
\end{defn} % https://blogs.ubc.ca/infiniteseriesmodule/appendices/proof-of-the-ratio-test/proof-of-the-ratio-test/
% TODO: Bevis

% dette gælder dog ikke for alle funktioner, 
% et simpelt eksempel kunne fx være funktionen $ln(x)$ omkring punktet $a=1$ 
% hvor Taylorpolynomiet kun convergere imod $ln(x)$ hvor $x \in \mathbb{R} \setminus\{(0, 2)\} \land x > 0$. 
% Selv om man lader $n \rightarrow \infty$, hvis $x > 2$ gælder $P_n(x) \not \approx ln(x)$ dog stadig ikke.
% Derudover bør det nævnes at hvis $n \rightarrow \infty$ gælder, kaldes Taylorpolynomiet for en Taylorrække, mere om dette i et senere afsnit. % TODO: Indsæt refference til afsnitet 

% Link til en artikel om ln(x): https://math.stackexchange.com/questions/409214/why-is-domain-of-convergence-of-taylor-rækkes-of-lnx-about-x-1-is-0-2
% Ratio test for Rækker: https://www.youtube.com/watch?v=av947KCWf2U&ab_channel=KhanAcademy 
\subsection*{\textbf{Eksempel:} Maclaurin rækken for $e^x$ og dens radius for konvergens} 
Der ønskes en Maclaurin række for beregning af funktions værdien for funktionen $f(x) = e^x$.
Da $\frac{d}{dx}e^x = e^x$ kan Maclaurin rækken opskrives som:
\[
    T_{e^x}(x) = \sum^\infty_{n = 0} \frac{e^a}{n!}(x-a)^n
\]
Da der er tale om en Maclaurin række og $a = 0$ derfor må gælde kan rækken forsimples yderligere:
\[
    T_{e^x}(x) = \sum^\infty_{n = 0} \frac{1}{n!}(x-a)^n
\]
Herefter beregnes rækkens radius for konvergens:
\[
    \frac{1}{R} = \lim_{n \rightarrow \infty} \left\lvert \frac{(n + 1)!^{-1}}{n!^{-1}} \right\lvert
\]
Der ses bort fra den absolutte værdi fordi $(n + 1)! > n! > 0$:
\[
    \frac{1}{R}= \lim_{n \rightarrow \infty} \frac{n!}{(n + 1)!} 
    = \lim_{n \rightarrow \infty} \frac{n \cdot (n-1) \cdot \ldots \cdot 2 \cdot 1}{(n + 1) \cdot n \cdot (n-1) \cdot \ldots \cdot 2 \cdot 1}
    = \lim_{n \rightarrow \infty} \frac{1}{n + 1} = 0
\]
Derfor må følgende gælde: $R = \infty$ rækken konvergere altså for alle $x \in \mathbb{R}$.
Derved kan følgende udtryk opstilles:
\[
    e^x = \sum^\infty_{n = 0} \frac{x^n}{n!}  
\]
\subsection*{\textbf{Eksempel:} Taylorrækken rækken for $ln(x)$ omkring $a = 1$ og dens radius for konvergens} % Taylorrække for ln(x)
Taylorrækken for $ln(x)$ er givet ved:
\[
    T_{ln}(x) = ln(a) + \frac{ln'(a)}{1!}(x-a)^1 + \frac{ln''(a)}{2!}(x-a)^2 + \ldots
\]
Hvilket kan opskrives pænere som:
\[
    T_{ln}(x) = ln(a) + \sum^{\infty}_{n = 1} \frac{(-1)^{(n+1)}}{n!} \cdot \frac{(n-1)!}{a^n} (x-a)^{n}
\]
$a = 1$ indsættes:
\[
    T_{ln}(x) = \sum^{\infty}_{n = 1} \frac{(-1)^{(n+1)}}{n!} \cdot \frac{(n-1)!}{1} (x-1)^{n}
    = \sum^{\infty}_{n = 1} \frac{(-1)^{(n+1)}(x-1)^{n}}{n}
\]
Nu beregnes Taylorrækkens radius for konvergens: 
\[
    \frac{1}{R} = \lim_{n \rightarrow \infty} \left\lvert \frac{\frac{(-1)^{(n+2)}}{n+1}}{\frac{(-1)^{(n+1)}}{n}} \right\lvert
\]
Da både $\left\lvert -1^{(n+2)} \right\lvert = 1$ og $\left\lvert-1^{(n + 1)} \right\lvert = 1$ må gælde kan utrykket forsimples yderligere
\[
    \frac{1}{R} = \lim_{n \rightarrow \infty} \frac{\frac{1}{n+1}}{\frac{1}{n}} = \lim_{n \rightarrow \infty} \frac{n}{n+1} = 1
\]
$\frac{1}{R} = 1 \Leftrightarrow R = 1$ må gælde fordi både tæller og nævner går imod uendelig. 
derved kan taylorrækkens konvergens område opskrives som $a-R < x < a+R \Leftrightarrow 0 < x < 2$ 
derved kan følgende udtryk opstilles: $ln(x) = T_{ln}(x)$ hvor $ 0 < x < 2$